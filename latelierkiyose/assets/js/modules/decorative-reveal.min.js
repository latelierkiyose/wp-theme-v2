!function(){"use strict";const e=document.querySelectorAll(".collage-micro");if(!e.length)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return void e.forEach(e=>{e.classList.add("is-revealed")});const t=new Map;e.forEach(e=>{const r=e.closest("section");r&&(t.has(r)||t.set(r,[]),t.get(r).push(e))});const r=new IntersectionObserver(e=>{e.forEach(e=>{if(!e.isIntersecting)return;const s=t.get(e.target);s&&(s.forEach(e=>{e.style.willChange="opacity"}),requestAnimationFrame(()=>{s.forEach(e=>{e.classList.add("is-revealed")});const e=100*s.length+300;setTimeout(()=>{s.forEach(e=>{e.style.willChange=""})},e)}),r.unobserve(e.target))})},{threshold:.15,rootMargin:"0px 0px -50px 0px"});t.forEach((e,t)=>{r.observe(t)})}();