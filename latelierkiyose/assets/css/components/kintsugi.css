/**
 * Kintsugi Visual Elements
 *
 * Decorative elements inspired by the Kintsugi philosophy:
 * - Golden section dividers (repaired cracks metaphor)
 * - Golden halo overlays (subtle radial gradients)
 * - Organic decorative shapes (splashes, waves, blobs)
 * - Dynamic scribbles and accents (scroll-revealed)
 *
 * All elements are purely decorative and marked with aria-hidden="true"
 *
 * @package Kiyose
 * @since   0.1.14
 */

/* ============================================
   SECTION DIVIDERS - Golden lines
   ============================================ */

/**
 * Basic section divider with gradient effect.
 * Subtle golden line inspired by repaired cracks.
 * Uses a container with background to handle section transitions smoothly.
 */
.section-divider {
	background: linear-gradient(
		to bottom,
		var(--kiyose-section-divider-bg-top, #ffffff) 0%,
		var(--kiyose-section-divider-bg-top, #ffffff) 45%,
		var(--kiyose-section-divider-bg-bottom, var(--kiyose-color-background)) 55%,
		var(--kiyose-section-divider-bg-bottom, var(--kiyose-color-background)) 100%
	);
	margin: 0;
	padding: var(--kiyose-spacing-3xl) 0;
	position: relative;
}

.section-divider::after {
	background: linear-gradient(
		90deg,
		transparent 0%,
		var(--kiyose-color-gold-transparent) 20%,
		var(--kiyose-color-gold) 50%,
		var(--kiyose-color-gold-transparent) 80%,
		transparent 100%
	);
	content: '';
	height: 2px;
	left: 0;
	position: absolute;
	right: 0;
	top: 50%;
	transform: translateY(-50%);
}

/**
 * Divider color transitions for different section combinations.
 * Each variant smoothly transitions between adjacent section backgrounds.
 */

/* Beige (hero) to White (services) */
.section-divider--beige-to-white {
	background: linear-gradient(
		to bottom,
		var(--kiyose-color-background) 0%,
		var(--kiyose-color-background) 45%,
		#ffffff 55%,
		#ffffff 100%
	);
}

/* White (services) to Tinted (events) */
.section-divider--white-to-tinted {
	background: linear-gradient(
		to bottom,
		#ffffff 0%,
		#ffffff 45%,
		rgb(201 171 167 / 10%) 55%,
		rgb(201 171 167 / 10%) 100%
	);
}

/* Tinted (events) to White (testimonials) */
.section-divider--tinted-to-white {
	background: linear-gradient(
		to bottom,
		rgb(201 171 167 / 10%) 0%,
		rgb(201 171 167 / 10%) 45%,
		#ffffff 55%,
		#ffffff 100%
	);
}

/* Tinted (newsletter) to Beige (blog) */
.section-divider--tinted-to-beige {
	background: linear-gradient(
		to bottom,
		rgb(201 171 167 / 10%) 0%,
		rgb(201 171 167 / 10%) 45%,
		var(--kiyose-color-background) 55%,
		var(--kiyose-color-background) 100%
	);
}

/* Header (white) to main content (beige by default) */
.section-divider--header {
	background: #ffffff;
	margin: 0;
	padding: 0;
}

.section-divider--header::after {
	background: linear-gradient(
		90deg,
		transparent 0%,
		var(--kiyose-color-gold-transparent) 20%,
		var(--kiyose-color-gold) 50%,
		var(--kiyose-color-gold-transparent) 80%,
		transparent 100%
	);
}

/* Remove spacing adjustment - let sections keep their normal padding */
.section-divider--header + section,
.section-divider--header + .site-main section:first-of-type,
.section-divider--header + .site-main .hero-section {
	padding-top: var(--kiyose-spacing-3xl);
}

/**
 * Organic variant with dual gradient for a more textured effect.
 */
.section-divider--organic {
	background:
		linear-gradient(90deg, transparent, var(--kiyose-color-gold), transparent),
		linear-gradient(0deg, transparent 40%, var(--kiyose-color-gold-light) 50%, transparent 60%);
	background-position: center;
	background-repeat: no-repeat;
	background-size: 100% 100%, 100% 3px;
	height: 3px;
	margin: var(--kiyose-spacing-3xl) 0;
}

/* ============================================
   WAVE SEPARATORS — Organic full-width dividers
   SVG waves spanning the full viewport width between sections.
   Background = "from" section color, SVG fill = "to" section color.
   ============================================ */

/**
 * Full-width organic wave separator between sections.
 * The div background is the "from" color (set via inline style).
 * The SVG path fill is the "to" color (set via inline style on path).
 */
.wave-separator {
	display: block;
	line-height: 0;
	margin: 0;
	overflow: hidden;
	padding: 0;
	width: 100%;
}

.wave-separator svg {
	display: block;
	height: clamp(60px, 5.5vw, 100px);
	width: 100%;
}

/* ============================================
   GOLDEN HALO OVERLAYS
   ============================================ */

/**
 * Hero section with subtle golden halo overlay.
 * Uses ::before pseudo-element for decoration.
 */
.hero-section--with-overlay {
	overflow: hidden;
	position: relative;
}

.hero-section--with-overlay::before {
	background:
		radial-gradient(ellipse at 65% 40%, rgb(230 165 40 / 10%) 0%, transparent 35%),
		radial-gradient(ellipse at 25% 60%, rgb(244 201 117 / 6%) 0%, transparent 30%);
	content: '';
	height: 100%;
	left: 0;
	pointer-events: none;
	position: absolute;
	top: 0;
	width: 100%;
	z-index: 0;
}

/**
 * Section with alternating overlay.
 * Uses ::after for right-side accent.
 */
.section--with-overlay {
	overflow: hidden;
	position: relative;
}

.section--with-overlay::after {
	background:
		radial-gradient(circle at 70% 40%, rgb(230 165 40 / 10%) 0%, transparent 60%),
		radial-gradient(circle at 30% 80%, rgb(244 201 117 / 8%) 0%, transparent 50%);
	content: '';
	height: 100%;
	pointer-events: none;
	position: absolute;
	right: 0;
	top: 0;
	width: 60%;
	z-index: 0;
}

/* ============================================
   DECORATIVE SHAPES (couche fond)
   Large organic SVG shapes — splashes, waves, blobs.
   All purely decorative with aria-hidden="true".
   ============================================ */

/**
 * Page-level anchor for decorative shapes.
 */
.home-page {
	position: relative;
}

/**
 * Page-level container for all margin shapes.
 * Covers the full page area, non-interactive.
 */
.deco-page-shapes {
	inset: 0;
	pointer-events: none;
	position: absolute;
	z-index: 0;
}

/**
 * Base class for large organic background shapes.
 * Positioned absolutely within their parent section.
 */
.deco-shape {
	pointer-events: none;
	position: absolute;
	z-index: 0;
}

/**
 * Position variants for decorative shapes.
 */
.deco-shape--top-left {
	left: -5%;
	top: -5%;
}

.deco-shape--top-right {
	right: -5%;
	top: -5%;
}

.hero-section .deco-shape--top-right {
	top: 0;
}

.deco-shape--bottom-left {
	bottom: -5%;
	left: -5%;
}

.deco-shape--bottom-right {
	bottom: -5%;
	right: -5%;
}

/**
 * Margin-positioned shapes (page-level container).
 * Placed along left/right edges with a vertical offset.
 */
.deco-shape--margin-left {
	left: -3%;
	top: var(--kiyose-deco-top, 0%);
}

.deco-shape--margin-right {
	right: -3%;
	top: var(--kiyose-deco-top, 0%);
}

/**
 * Section content stays above decorative elements.
 */
.section__content {
	position: relative;
	z-index: 1;
}

/* ============================================
   DECORATIVE ELEMENTS (couche détail dynamique)
   Scribbles, mini-splashes, spirals — scroll-revealed.
   ============================================ */

/**
 * Base class for dynamic decorative elements.
 * Hidden by default, revealed via Intersection Observer.
 */
.deco-element {
	opacity: 0;
	pointer-events: none;
	position: absolute;
	transform: scale(0.6) rotate(-15deg);
	transition:
		opacity 500ms cubic-bezier(0.34, 1.56, 0.64, 1),
		transform 500ms cubic-bezier(0.34, 1.56, 0.64, 1);
	z-index: 0;
}

/**
 * Revealed state — applied by JS when element enters viewport.
 */
.deco-element.is-revealed {
	opacity: 1;
	transform: scale(1) rotate(var(--kiyose-deco-rotation, 0deg));
}

/**
 * Float animation keyframes for gentle continuous movement.
 */
@keyframes deco-float {
	0%,
	100% {
		transform: translateY(0) rotate(var(--kiyose-deco-rotation, 0deg));
	}

	50% {
		transform: translateY(-8px) rotate(calc(var(--kiyose-deco-rotation, 0deg) + 2deg));
	}
}

/**
 * Float modifier — gentle bobbing after reveal.
 * Applied only to scribbles and small elements, not large shapes.
 * Maximum 3 floating elements visible simultaneously.
 */
.deco-element--float.is-floating {
	animation: deco-float 6s ease-in-out infinite;
}

/* ============================================
   REDUCED MOTION
   Disable all decorative animations.
   ============================================ */
@media (prefers-reduced-motion: reduce) {

	.deco-element {
		animation: none !important;
		opacity: 1 !important;
		transform: none !important;
		transition: none !important;
	}

	.deco-element--float.is-floating {
		animation: none !important;
	}
}

/* ============================================
   RESPONSIVE — Mobile adjustments
   ============================================ */
@media (width <= 767px) {

	.deco-shape {
		opacity: 0.8;
		transform: scale(0.5);
	}

	.deco-shape--top-left {
		left: -10%;
		top: -3%;
	}

	.deco-shape--top-right {
		right: -10%;
		top: -3%;
	}

	.deco-shape--bottom-left {
		bottom: -3%;
		left: -10%;
	}

	.deco-shape--bottom-right {
		bottom: -3%;
		right: -10%;
	}

	.deco-shape--margin-left {
		left: -8%;
	}

	.deco-shape--margin-right {
		right: -8%;
	}

	.deco-element {
		transform: scale(0.4) rotate(-15deg);
	}

	.deco-element.is-revealed {
		transform: scale(0.7) rotate(var(--kiyose-deco-rotation, 0deg));
	}
}

/* ============================================
   ALTERNATING SECTION BACKGROUNDS
   ============================================ */

/**
 * White background for alternating sections.
 */
.section--alt-bg {
	background-color: #ffffff;
}

/**
 * Tinted background with subtle taupe rose.
 */
.section--tinted {
	background-color: rgb(201 171 167 / 10%);
}
