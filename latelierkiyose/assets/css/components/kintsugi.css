/**
 * Kintsugi Visual Elements
 *
 * Decorative elements inspired by the Kintsugi philosophy:
 * - Golden section dividers (repaired cracks metaphor)
 * - Stained glass overlays (vitrail metaphor)
 * - Collage créatif (torn papers & micro-elements)
 *
 * All elements are purely decorative and marked with aria-hidden="true"
 *
 * @package Kiyose
 * @since   0.1.14
 */

/* ============================================
   SECTION DIVIDERS - Golden lines
   ============================================ */

/**
 * Basic section divider with gradient effect.
 * Subtle golden line inspired by repaired cracks.
 * Uses a container with background to handle section transitions smoothly.
 */
.section-divider {
	background: linear-gradient(
		to bottom,
		var(--kiyose-section-divider-bg-top, #ffffff) 0%,
		var(--kiyose-section-divider-bg-top, #ffffff) 45%,
		var(--kiyose-section-divider-bg-bottom, var(--kiyose-color-background)) 55%,
		var(--kiyose-section-divider-bg-bottom, var(--kiyose-color-background)) 100%
	);
	margin: 0;
	padding: var(--kiyose-spacing-3xl) 0;
	position: relative;
}

.section-divider::after {
	background: linear-gradient(
		90deg,
		transparent 0%,
		var(--kiyose-color-gold-transparent) 20%,
		var(--kiyose-color-gold) 50%,
		var(--kiyose-color-gold-transparent) 80%,
		transparent 100%
	);
	content: '';
	height: 2px;
	left: 0;
	position: absolute;
	right: 0;
	top: 50%;
	transform: translateY(-50%);
}

/**
 * Divider color transitions for different section combinations.
 * Each variant smoothly transitions between adjacent section backgrounds.
 */

/* Beige (hero) to White (services) */
.section-divider--beige-to-white {
	background: linear-gradient(
		to bottom,
		var(--kiyose-color-background) 0%,
		var(--kiyose-color-background) 45%,
		#ffffff 55%,
		#ffffff 100%
	);
}

/* White (services) to Tinted (events) */
.section-divider--white-to-tinted {
	background: linear-gradient(
		to bottom,
		#ffffff 0%,
		#ffffff 45%,
		rgb(201 171 167 / 10%) 55%,
		rgb(201 171 167 / 10%) 100%
	);
}

/* Tinted (events) to White (testimonials) */
.section-divider--tinted-to-white {
	background: linear-gradient(
		to bottom,
		rgb(201 171 167 / 10%) 0%,
		rgb(201 171 167 / 10%) 45%,
		#ffffff 55%,
		#ffffff 100%
	);
}

/* Tinted (newsletter) to Beige (blog) */
.section-divider--tinted-to-beige {
	background: linear-gradient(
		to bottom,
		rgb(201 171 167 / 10%) 0%,
		rgb(201 171 167 / 10%) 45%,
		var(--kiyose-color-background) 55%,
		var(--kiyose-color-background) 100%
	);
}

/* Header (white) to main content (beige by default) */
.section-divider--header {
	background: #ffffff;
	margin: 0;
	padding: 0;
}

.section-divider--header::after {
	background: linear-gradient(
		90deg,
		transparent 0%,
		var(--kiyose-color-gold-transparent) 20%,
		var(--kiyose-color-gold) 50%,
		var(--kiyose-color-gold-transparent) 80%,
		transparent 100%
	);
}

/* Remove spacing adjustment - let sections keep their normal padding */
.section-divider--header + section,
.section-divider--header + .site-main section:first-of-type,
.section-divider--header + .site-main .hero-section {
	padding-top: var(--kiyose-spacing-3xl);
}

/**
 * Organic variant with dual gradient for a more textured effect.
 */
.section-divider--organic {
	background:
		linear-gradient(90deg, transparent, var(--kiyose-color-gold), transparent),
		linear-gradient(0deg, transparent 40%, var(--kiyose-color-gold-light) 50%, transparent 60%);
	background-position: center;
	background-repeat: no-repeat;
	background-size: 100% 100%, 100% 3px;
	height: 3px;
	margin: var(--kiyose-spacing-3xl) 0;
}

/* ============================================
   STAINED GLASS OVERLAYS
   ============================================ */

/**
 * Hero section with subtle vitrail overlay.
 * Uses ::before pseudo-element for decoration.
 */
.hero-section--with-overlay {
	overflow: hidden;
	position: relative;
}

.hero-section--with-overlay::before {
	background:
		radial-gradient(ellipse at 65% 40%, rgb(230 165 40 / 10%) 0%, transparent 35%),
		radial-gradient(ellipse at 25% 60%, rgb(244 201 117 / 6%) 0%, transparent 30%);
	content: '';
	height: 100%;
	left: 0;
	pointer-events: none;
	position: absolute;
	top: 0;
	width: 100%;
	z-index: 0;
}

/**
 * Section with alternating overlay.
 * Uses ::after for right-side accent.
 */
.section--with-overlay {
	overflow: hidden;
	position: relative;
}

.section--with-overlay::after {
	background:
		radial-gradient(circle at 70% 40%, rgb(230 165 40 / 8%) 0%, transparent 60%),
		radial-gradient(circle at 30% 80%, rgb(244 201 117 / 6%) 0%, transparent 50%);
	content: '';
	height: 100%;
	pointer-events: none;
	position: absolute;
	right: 0;
	top: 0;
	width: 60%;
	z-index: 0;
}

/* ============================================
   COLLAGE CRÉATIF - Torn papers & micro-elements
   ============================================ */

/**
 * Torn paper shapes — large semi-transparent SVG backgrounds.
 * Positioned absolutely within sections.
 */
.collage-paper {
	pointer-events: none;
	position: absolute;
	z-index: 0;
}

/* Hero section papers */
.collage-paper--hero-main {
	height: 300px;
	opacity: 0.13;
	right: -2%;
	top: 10%;
	transform: rotate(-3deg);
	width: 400px;
}

.collage-paper--hero-accent {
	bottom: 8%;
	height: 150px;
	left: -1%;
	opacity: 0.09;
	transform: rotate(4deg);
	width: 180px;
}

/* Services section paper */
.collage-paper--services {
	height: 220px;
	left: -3%;
	opacity: 0.1;
	top: -5%;
	transform: rotate(2deg);
	width: 300px;
}

/* Events section paper */
.collage-paper--events {
	height: 280px;
	opacity: 0.09;
	right: -2%;
	top: 5%;
	transform: rotate(-4deg);
	width: 250px;
}

/* Testimonials section paper */
.collage-paper--testimonials {
	height: 180px;
	opacity: 0.1;
	right: -1%;
	top: -3%;
	transform: rotate(3deg);
	width: 200px;
}

/* Blog section paper */
.collage-paper--blog {
	bottom: 5%;
	height: 200px;
	left: -2%;
	opacity: 0.08;
	transform: rotate(-2deg);
	width: 230px;
}

/**
 * Micro-elements — small SVG doodles revealed on scroll.
 * Initially invisible, revealed via JS with .is-revealed class.
 */
.collage-micro {
	opacity: 0;
	pointer-events: none;
	position: absolute;
	transition: opacity 300ms ease;
	z-index: 0;
}

.collage-micro.is-revealed {
	opacity: 1;
}

/**
 * Responsive: reduce decorative elements on mobile.
 */
@media (width <= 767px) {

	.collage-paper {
		height: calc(var(--kiyose-collage-h, 200px) * 0.6);
		opacity: calc(var(--kiyose-collage-o, 0.1) * 0.7);
		width: calc(var(--kiyose-collage-w, 200px) * 0.6);
	}

	.collage-paper--hero-main {
		--kiyose-collage-h: 300px;
		--kiyose-collage-o: 0.13;
		--kiyose-collage-w: 400px;
	}

	.collage-paper--hero-accent,
	.collage-paper--services,
	.collage-paper--events {
		display: none;
	}

	.collage-paper--testimonials {
		--kiyose-collage-h: 180px;
		--kiyose-collage-o: 0.1;
		--kiyose-collage-w: 200px;
	}

	.collage-paper--blog {
		--kiyose-collage-h: 200px;
		--kiyose-collage-o: 0.08;
		--kiyose-collage-w: 230px;
	}

	.collage-micro {
		display: none;
	}
}

/**
 * Respect prefers-reduced-motion.
 * Instant reveal, no transitions.
 */
@media (prefers-reduced-motion: reduce) {

	.collage-micro {
		transition: none;
	}
}

/* ============================================
   ALTERNATING SECTION BACKGROUNDS
   ============================================ */

/**
 * White background for alternating sections.
 */
.section--alt-bg {
	background-color: #ffffff;
}

/**
 * Tinted background with subtle taupe rose.
 */
.section--tinted {
	background-color: rgb(201 171 167 / 10%);
}
