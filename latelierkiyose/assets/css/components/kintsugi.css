/**
 * Kintsugi Visual Elements
 *
 * Decorative elements inspired by the Kintsugi philosophy:
 * - Golden section dividers (repaired cracks metaphor)
 * - Stained glass overlays (vitrail metaphor)
 * - Decorative bubbles (interactive accents)
 *
 * All elements are purely decorative and marked with aria-hidden="true"
 *
 * @package Kiyose
 * @since   0.1.14
 */

/* ============================================
   SECTION DIVIDERS - Golden lines
   ============================================ */

/**
 * Basic section divider with gradient effect.
 * Subtle golden line inspired by repaired cracks.
 * Uses a container with background to handle section transitions smoothly.
 */
.section-divider {
	background: linear-gradient(
		to bottom,
		var(--kiyose-section-divider-bg-top, #ffffff) 0%,
		var(--kiyose-section-divider-bg-top, #ffffff) 45%,
		var(--kiyose-section-divider-bg-bottom, var(--kiyose-color-background)) 55%,
		var(--kiyose-section-divider-bg-bottom, var(--kiyose-color-background)) 100%
	);
	margin: 0;
	padding: var(--kiyose-spacing-3xl) 0;
	position: relative;
}

.section-divider::after {
	background: linear-gradient(
		90deg,
		transparent 0%,
		var(--kiyose-color-gold-transparent) 20%,
		var(--kiyose-color-gold) 50%,
		var(--kiyose-color-gold-transparent) 80%,
		transparent 100%
	);
	content: '';
	height: 2px;
	left: 0;
	position: absolute;
	right: 0;
	top: 50%;
	transform: translateY(-50%);
}

/**
 * Divider color transitions for different section combinations.
 * Each variant smoothly transitions between adjacent section backgrounds.
 */

/* Beige (hero) to White (services) */
.section-divider--beige-to-white {
	background: linear-gradient(
		to bottom,
		var(--kiyose-color-background) 0%,
		var(--kiyose-color-background) 45%,
		#ffffff 55%,
		#ffffff 100%
	);
}

/* White (services) to Tinted (events) */
.section-divider--white-to-tinted {
	background: linear-gradient(
		to bottom,
		#ffffff 0%,
		#ffffff 45%,
		rgb(201 171 167 / 10%) 55%,
		rgb(201 171 167 / 10%) 100%
	);
}

/* Tinted (events) to White (testimonials) */
.section-divider--tinted-to-white {
	background: linear-gradient(
		to bottom,
		rgb(201 171 167 / 10%) 0%,
		rgb(201 171 167 / 10%) 45%,
		#ffffff 55%,
		#ffffff 100%
	);
}

/* Tinted (newsletter) to Beige (blog) */
.section-divider--tinted-to-beige {
	background: linear-gradient(
		to bottom,
		rgb(201 171 167 / 10%) 0%,
		rgb(201 171 167 / 10%) 45%,
		var(--kiyose-color-background) 55%,
		var(--kiyose-color-background) 100%
	);
}

/* Header (white) to main content (beige by default) */
.section-divider--header {
	background: #ffffff;
	margin: 0;
	padding: 0;
}

.section-divider--header::after {
	background: linear-gradient(
		90deg,
		transparent 0%,
		var(--kiyose-color-gold-transparent) 20%,
		var(--kiyose-color-gold) 50%,
		var(--kiyose-color-gold-transparent) 80%,
		transparent 100%
	);
}

/* Remove spacing adjustment - let sections keep their normal padding */
.section-divider--header + section,
.section-divider--header + .site-main section:first-of-type,
.section-divider--header + .site-main .hero-section {
	padding-top: var(--kiyose-spacing-3xl);
}

/**
 * Organic variant with dual gradient for a more textured effect.
 */
.section-divider--organic {
	background:
		linear-gradient(90deg, transparent, var(--kiyose-color-gold), transparent),
		linear-gradient(0deg, transparent 40%, var(--kiyose-color-gold-light) 50%, transparent 60%);
	background-position: center;
	background-repeat: no-repeat;
	background-size: 100% 100%, 100% 3px;
	height: 3px;
	margin: var(--kiyose-spacing-3xl) 0;
}

/* ============================================
   STAINED GLASS OVERLAYS
   ============================================ */

/**
 * Hero section with subtle vitrail overlay.
 * Uses ::before pseudo-element for decoration.
 */
.hero-section--with-overlay {
	overflow: hidden;
	position: relative;
}

.hero-section--with-overlay::before {
	background:
		radial-gradient(ellipse at 20% 30%, rgb(201 171 167 / 15%) 0%, transparent 50%),
		radial-gradient(ellipse at 80% 70%, rgb(215 164 164 / 15%) 0%, transparent 50%);
	content: '';
	height: 100%;
	left: 0;
	pointer-events: none;
	position: absolute;
	top: 0;
	width: 100%;
	z-index: 0;
}

/**
 * Section with alternating overlay.
 * Uses ::after for right-side accent.
 */
.section--with-overlay {
	overflow: hidden;
	position: relative;
}

.section--with-overlay::after {
	background:
		radial-gradient(circle at 70% 40%, rgb(230 165 40 / 10%) 0%, transparent 60%),
		radial-gradient(circle at 30% 80%, rgb(244 201 117 / 8%) 0%, transparent 50%);
	content: '';
	height: 100%;
	pointer-events: none;
	position: absolute;
	right: 0;
	top: 0;
	width: 60%;
	z-index: 0;
}

/* ============================================
   DECORATIVE BUBBLES
   ============================================ */

/**
 * Decorative SVG bubbles.
 * Appear on hover/focus of interactive elements.
 * No automatic animation (WCAG 2.2 AA compliance).
 */
.bubble {
	opacity: 0;
	pointer-events: none;
	position: absolute;
	transform: translateY(0);
	transition: opacity 0.3s ease, transform 0.3s ease;
}

/**
 * Bubble appearance on service card hover/focus.
 */
.service-card:hover .bubble,
.service-card:focus-within .bubble {
	opacity: 0.7;
	transform: translateY(-5px);
}

/**
 * Bubble positioning variants for service cards.
 */
.bubble--1 {
	right: 10%;
	top: 10%;
}

.bubble--2 {
	bottom: 15%;
	left: 8%;
}

/**
 * Bubble appearance on button hover/focus.
 */
.button:hover .bubble,
.button:focus .bubble {
	opacity: 0.6;
	transform: scale(1.1);
}

/**
 * Respect prefers-reduced-motion.
 * Disable all bubble animations.
 */
@media (prefers-reduced-motion: reduce) {
	.bubble {
		transform: none;
		transition: none;
	}
}

/* ============================================
   ALTERNATING SECTION BACKGROUNDS
   ============================================ */

/**
 * White background for alternating sections.
 */
.section--alt-bg {
	background-color: #ffffff;
}

/**
 * Tinted background with subtle taupe rose.
 */
.section--tinted {
	background-color: rgb(201 171 167 / 10%);
}
